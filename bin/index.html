<html>
<head>
	<link rel="stylesheet" type="text/css" href="style.css"/>
	<script type="text/javascript" src="jquery-latest.min.js"></script>
	<script type="text/javascript" src="jquery-sortable-min.js"></script>
	<link rel="stylesheet" type="text/css" href="spectrum.css"/>
	<script type="text/javascript" src="spectrum.js"></script>
</head>

<body>

<div id="helpers">

	<input type="file" id="fileSelect" style="display:none"/>

	<div id="newsheet" class="modal" style="display:none">
		<div class="content">
		<form id="sheet_form" onsubmit="return false">
			<h1>Sheet Props</h1>
			<p>
				<span>Sheet Name</span> <input type="text" id="sheet_name"/>
			</p>
			<p class="buttons">
				<input type="submit" value="Create" onclick="_.createSheet($('#sheet_name').val())"/>
				<input type="submit" value="Cancel" onclick="$(this).parents('.modal').hide()"/>
			</p>
		</form>
		</div>
	</div>

	<div id="newcol" class="modal" style="display:none">
		<div class="content">
			<form id="col_form" onsubmit="return false">
			<h1>Column Props</h1>
			<p>
				<span>Column name</span> <input type="text" name="name"/>
			</p>
			<p>
				<span>Column type</span>
				<select name="type" onchange="$('#col_options').attr('class','t_'+this.value)">
				<option value="">---- Choose -----</option>
				<option value="id">Unique Identifier</option>
				<option value="string">Text</option>
				<option value="bool">Boolean</option>
				<option value="int">Integer</option>
				<option value="float">Float Value</option>
				<option value="enum">Enumeration</option>
				<option value="flags">Flags</option>
				<option value="ref">Reference</option>
				<option value="image">Image</option>
				<option value="list">List</option>
				<option value="custom">Custom</option>
				<option value="color">Color</option>
				<option value="layer">Layer</option>
				<option value="file">File</option>
				<option value="tilepos">Tile</option>
				<option value="tilelayer">Tile Layer</option>
				</select>
			</p>
			<div id="col_options">
				<div class="values"><span>Possible Values</span> <input type="text" name="values" name="vals"/></div>
				<div class="sheet"><span>Sheet</span> <select name="sheet"></select> </div>
				<div class="disp"><span>Display</span>
					<select name="display">
					<option value="0">Default</option>
					<option value="1">Percentage</option>
					</select>
				</div>
				<div class="custom"><span>Type</span> <a href="javascript:_.newType()" class="tcreate">[create]</a> <a href="#" onclick="_.newType($(this).parents('form').find('[name=ctype]').val())" class="tedit">[edit]</a></span> <select name="ctype"></select> </div>
				<div class="opt">Required <input type="checkbox" name="req"/></div>
			</div>
			<p class="buttons">
				<input class="edit" type="submit" value="Delete" onclick="_.deleteColumn()"/>
				<input class="edit" type="submit" value="Modify" onclick="_.createColumn()"/>
				<input class="create" type="submit" value="Create" onclick="_.createColumn()"/>
				<input type="submit" value="Cancel" onclick="$(this).parents('.modal').hide()"/>
			</p>

			</form>
		</div>
	</div>

	<div id="editTypes" style="display:none">
		<div class="tedit">
			<input class="button" type="submit" name="apply" value="Apply"/> <input class="button" type="submit" value="Cancel"/>
			<textarea></textarea>
		</div>
	</div>

	<div id="about" class="modal" style="display:none">
		<div class="content">
		<h1>About</h1>
		<p>
			Version 1.0
		</p>
		<p>
			CastleDB has been created by Nicolas Cannasse
		</p>
		<p>
			Help and updates on <a href="http://castledb.org" target="_blank">http://castledb.org</a>
		</p>
		<p>
			<input type="submit" value="Close" onclick="$(this).parents('.modal').hide()"/>
		</p>
		</div>
	</div>

	<div id="menu">

		<div class="errorMsg" style="display:none">
			ERROR
		</div>

		<a href="javascript:_.editTypes()">Edit Types</a>
		<a href="javascript:_.insertLine()">New Line</a>
		<a href="javascript:_.newColumn()">New Column</a>
		<a href="javascript:_.newSheet()">New Sheet</a>

		<ul class="sheets" id="sheets">
			<li>Sheet 1</li>
			<li class="active">Sheet 2</li>
			<li>Sheet 3</li>
		</ul>

	</div>

	<div class="box">
	<div class="tileSelect modal" style="display:none">
		<div class="content">
			<div class="menu">
				Size <input name="size"/>
				<input name="file" type="submit" value="File..."/>
				<input name="cancel" type="submit" value="Cancel"/>
			</div>
			<div class="tileView">
				<div class="tileCursor"></div>
				<div class="tileCursor current"></div>
			</div>
		</div>
	</div>
	</div>

	<div id="paletteContent" style="display:none">
		<div class="palette">
			<div class="bar">
				<div class="icon random" onclick="_.level.paletteOption('random')" title="Random mode"></div>
				<div class="icon paint" onclick="_.level.paletteOption('paint')" title="Paint mode"></div>
				<div class="icon tag" onclick="_.level.paletteOption('tag')" title="Tag tiles mode"></div>
				<div class="tagMode">
					<select name="tags" onchange="_.level.paletteOption('selectTag',this.value)" title="Choose tag to modify">
					</select>
					<label title="Create new tag">
						<input type="text" name="tagName"/>
						<input type="submit" value="Add" onclick="{ var t = $(this).parent().find('[name=tagName]'); _.level.paletteOption('addTag',t.val()); t.val(''); }"/>
					</label>
					<input type="submit" value="Del" onclick="_.level.paletteOption('delTag')"/>
				</div>
				<div class="mode">
					<select name="mode" onchange="_.level.paletteOption('mode',this.value)" title="Change tile mode">
						<option value="tile">tile</option>
						<option value="ground">ground</option>
						<option value="border">border</option>
						<option value="object">object</option>
					</select>
					<label class="opt name" title="Name for this ground">
						Name:
						<input type="text" name="name" onchange="_.level.paletteOption('name',this.value)"/>
					</label>
					<label class="opt priority" title="Priority for this ground (higher is above)">
						Priority:
						<select name="priority" onchange="_.level.paletteOption('priority',this.value)">
							<option value="0">0</option>
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5</option>
							<option value="6">6</option>
						</select>
					</label>
					<label class="opt border" title="Choose ground for this border">
						<select name="border" onchange="_.level.paletteOption('border', this.value)">
						</select>
					</label>
					<label class="opt border_out" title="Check if it's an outside border">
						<input type="checkbox" name="border_out" onchange="_.level.paletteOption('border_out', ''+this.checked)"/>
						Out
					</label>
				</div>
			</div>
			<div class="content">
				<canvas class="select"></canvas>
				<canvas class="view"></canvas>
			</div>
		</div>
	</div>

	<div id="levelContent" style="display:none">
		<div class="level">
			<div class="menu">
				<ul class="layers">
				</ul>
				<div class="options">
					<input type="submit" value="Options" onclick="_.level.action('options')"/>
					<input type="submit" value="X" onclick="_.level.action('close')"/>
					<input name="newlayer" type="submit" value="New Layer" onclick="_.level.action('layer')"/>
					<div class="cursorPosition"></div>
				</div>
			</div>
			<div class="submenu layer">
				<div class="item">
					<label><input type="checkbox" name="visible" onchange="_.level.setVisible(this.checked)"/> Visible</label>
				</div>
				<div class="item">
					<input type="range" name="alpha" min="0" max="100" onchange="_.level.setAlpha(this.value)"/> Alpha
				</div>
				<div class="item">
					<label>Mode:
						<select name="mode" onchange="_.level.setLayerMode(this.value)">
							<option value="tiles">Tiles</option>
							<option value="ground">Ground</option>
							<option value="objects">Objects</option>
						</select>
					</label>
				</div>
				<div class="item">
					<input name="color"/> Color
				</div>
				<div class="item">
					<label><input type="checkbox" name="lock" onchange="_.level.setLock(this.checked)"/> Lock Grid</label>
				</div>
				<div class="item">
					<input type="submit" name="file" value="File..." onclick="_.level.action('file')"/>
				</div>
				<div class="item">
					<label>Size <input type="text" name="size" onchange="_.level.setSize(parseInt(this.value))"/>px</label>
				</div>
			</div>
			<div class="submenu options">
				<div class="item">
					<label>Tile Size <input type="text" name="tileSize" onchange="_.level.setTileSize(parseInt(this.value))"/></label>
				</div>
				<div class="item">
					<label>X <input type="text" class="small" name="sx"/></label>
					<label>Y <input type="text" class="small" name="sy"/></label>
					<input type="submit" value="Scroll" onclick="_.level.scroll(parseInt($(parentNode).find('[name=sx]').val()),parseInt($(parentNode).find('[name=sy]').val()))"/>
				</div>
				<div class="item">
					<input type="submit" value="Cancel" onclick="_.level.action('options')"/>
				</div>
			</div>
			<div class="submenu newlayer">
				<div class="item">
					<label>Name <input type="text" name="newName"/></label>
					<input type="submit" value="Create" onclick="_.level.addNewLayer($(parentNode).find('[name=newName]').val())"/>
					<input type="submit" value="Cancel" onclick="_.level.action('layer')"/>
				</div>
			</div>
			<div class="scroll">
				<div class="scrollContent">
					<div id="cursor"></div>
				</div>
			</div>
		</div>
	</div>

</div>

<div class="castle" id="content">
<table>
	<tr class="head">
		<td>ID</td>
		<td>Name</td>
		<td>Description</td>
		<td>Bool</td>
		<td>Int</td>
	</tr>
	<tr>
		<td><input type="text" class="edit" value="bla"/></td>
		<td>Bla bla</td>
		<td>Can do lorem ipsum</td>
		<td>X</td>
		<td>1230</td>
	</tr>
</table>
</div>

<script type="text/javascript" src="castle.js"></script>

</body>
</html>